<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="8.css">
</head>
<body>
    <div class="main">

        <header class="top">
            <div class="icon"><svg id="icon" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 50 50">
                <path d="M25.009,1.982C12.322,1.982,2,12.304,2,24.991S12.322,48,25.009,48s23.009-10.321,23.009-23.009S37.696,1.982,25.009,1.982z M34.748,35.333c-0.289,0.434-0.765,0.668-1.25,0.668c-0.286,0-0.575-0.081-0.831-0.252C30.194,34.1,26,33,22.5,33.001 c-3.714,0.002-6.498,0.914-6.526,0.923c-0.784,0.266-1.635-0.162-1.897-0.948s0.163-1.636,0.949-1.897 c0.132-0.044,3.279-1.075,7.474-1.077C26,30,30.868,30.944,34.332,33.253C35.022,33.713,35.208,34.644,34.748,35.333z M37.74,29.193 c-0.325,0.522-0.886,0.809-1.459,0.809c-0.31,0-0.624-0.083-0.906-0.26c-4.484-2.794-9.092-3.385-13.062-3.35 c-4.482,0.04-8.066,0.895-8.127,0.913c-0.907,0.258-1.861-0.272-2.12-1.183c-0.259-0.913,0.272-1.862,1.184-2.12 c0.277-0.079,3.854-0.959,8.751-1c4.465-0.037,10.029,0.61,15.191,3.826C37.995,27.328,38.242,28.388,37.74,29.193z M40.725,22.013 C40.352,22.647,39.684,23,38.998,23c-0.344,0-0.692-0.089-1.011-0.275c-5.226-3.068-11.58-3.719-15.99-3.725 c-0.021,0-0.042,0-0.063,0c-5.333,0-9.44,0.938-9.481,0.948c-1.078,0.247-2.151-0.419-2.401-1.495 c-0.25-1.075,0.417-2.149,1.492-2.4C11.729,16.01,16.117,15,21.934,15c0.023,0,0.046,0,0.069,0 c4.905,0.007,12.011,0.753,18.01,4.275C40.965,19.835,41.284,21.061,40.725,22.013z"></path>
            </svg></div>

            <div class="homesearch"> 
                <div class="home"><svg id="home" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 50 50">
                    <path d="M 25 1.0507812 C 24.7825 1.0507812 24.565859 1.1197656 24.380859 1.2597656 L 1.3808594 19.210938 C 0.95085938 19.550938 0.8709375 20.179141 1.2109375 20.619141 C 1.5509375 21.049141 2.1791406 21.129062 2.6191406 20.789062 L 4 19.710938 L 4 46 C 4 46.55 4.45 47 5 47 L 19 47 L 19 29 L 31 29 L 31 47 L 45 47 C 45.55 47 46 46.55 46 46 L 46 19.710938 L 47.380859 20.789062 C 47.570859 20.929063 47.78 21 48 21 C 48.3 21 48.589063 20.869141 48.789062 20.619141 C 49.129063 20.179141 49.049141 19.550938 48.619141 19.210938 L 25.619141 1.2597656 C 25.434141 1.1197656 25.2175 1.0507812 25 1.0507812 z M 35 5 L 35 6.0507812 L 41 10.730469 L 41 5 L 35 5 z"></path>
                </svg></div>
                <div class="search"></div>
            </div>
            <div id="proflog">
                <button id="login">Login</button>
                <div id="profile"><img  src="" alt=""></div>
            </div>
        </header>
        
<audio id="audioplayer"></audio>

        <div class="middle">
            <div class="sidebar">

                <div class="music" data-src="fadeintoyou.mp3" data-img="fadeintoyou.png">
                    <img class="musicimg" src="fadeintoyou.png" ></img>
                    <p class="musicname">Fade Into You - Mazzy Star</p>
                </div>
                <div class="music" data-src="shapeofyou.mp3" data-img="shapeofyou.png">
                    <img class="musicimg" src="shapeofyou.png"></img>
                    <p class="musicname">Shape of you - Ed Sheeran</p>
                </div>


            </div>
            <div class="maincontent">

            </div>
        </div>
        
        <footer class="bottom">
            <div class="songimg"><img  id="songimg" src="" alt=""></div>
            <div class="songplay">
                <div class="play">
                    <div class="prev temp"></div>
                    <div class="pauseplay temp">▶️</div>
                    <div class="next temp"></div>
                </div>
                    <div class="seek"><div class="seekbar"></div></div>
                </div>
                <div class="volume"><div class="volumebar"></div></div>

        </footer>
        
    </div>
    <script src="8.js"></script>
    <script>
        const audioplayer = document.getElementById('audioplayer')
const musicitem = document.querySelectorAll('.music')
const playbutton = document.querySelector('.pauseplay')
const seekbar = document.querySelector('.seekbar')
const seekcontainer = document.querySelector('.seek')
const volumebar = document.querySelector('.volumebar')
const songimage = document.getElementById('songimage')





let currentsong = null
let isplaying = false

musicitem.forEach(item =>{
    item.addEventListener('click',()=>{
        const src = item.getAttribute('data-src')
        const imgsrc = item.getAttribute('data-img')
        if(src !== currentsong){
            currentsong = src
            audioplayer.src = src
            songimg.src = imgsrc
        }
        if(isplaying){
            audioplayer.currentTime = 0
        }
        audioplayer.play()
        isplaying = true
        updateplaybutton()
        
    })
})

playbutton.addEventListener('click',()=>{
    if(!audioplayer.src) return
    if(isplaying){
        audioplayer.pause()
    } else {
        audioplayer.play()
    }
    isplaying = !isplaying
    updateplaybutton()
    }
)

function updateplaybutton(){
    if(isplaying){
        playbutton.textContent = '⏸️'
    } else{
        playbutton.textContent = '▶️'
    }
}

audioplayer.addEventListener('timeupdate',()=>{
    const progress = (audioplayer.currentTime/audioplayer.duration)*100
    seekbar.style.width = progress + "%"
})

volumebar.addEventListener('click',(e)=>{
    const rect = volumebar.getBoundingClientRect()
    const clickX = e.clientX - rect.left
    const width = rect.width
    const volume = clickX/width
    audioplayer.volume = volume
    volumebar.style.background = `linear-gradient(to right, green ${volume*100}%, black ${volume*100}%)`

})

seekcontainer.addEventListener('click',(e)=>{
    const rect = seekcontainer.getBoundingClientRect()
    const clickX = e.clientX - rect.left
    const width = rect.width
    const position = clickX/width
    audioplayer.currentTime = position*audioplayer.duration
    seekbar.style.width = `${position*100}%`
})





    </script>
</body>
</html>